<c-row ngPreserveWhitespaces>
  <c-col xs="12">
    <app-docs-components href="forms/stepper/" />
    <c-card class="mb-4">
      <c-card-header>
        <strong>Angular Stepper Component</strong>
      </c-card-header>
      <c-card-body>
        <p class="text-body-secondary small">
          The Angular Stepper component helps you build intuitive, multi-step form experiences (Form Wizards) for your Angular applications. It supports horizontal and vertical layouts, built-in form validation, custom indicators, and seamless integration with any Angular forms.
        </p>
        <app-docs-example href="forms/stepper/">
          <div class="bg-body border rounded p-3">
            <c-stepper #stepper (finished)="handleFinish($event)" (onReset)="handleReset()">
              <c-stepper-step label="Step 1">
                <ng-container *ngTemplateOutlet="step1; context: { $implicit: 1 }" />
              </c-stepper-step>
              <c-stepper-step label="Step 2">
                <ng-container *ngTemplateOutlet="step2; context: { $implicit: 1 }" />
              </c-stepper-step>
              <c-stepper-step label="Step 2">
                <ng-container *ngTemplateOutlet="step3; context: { $implicit: 1 }" />
              </c-stepper-step>
            </c-stepper>
            <hr>
            @if (stepper.finishing()) {
              <button (click)="stepper.reset()" cButton color="danger">Reset</button>
            } @else {
              @if (stepper.activeStepIndex() > 0) {
                <button cButton (click)="stepper.prev()" color="secondary">Prev</button>
              }
              @if (stepper.activeStepIndex() < stepper.stepsCount() - 1) {
                <button cButton (click)="stepper.next()" color="primary">Next</button>
              }
              @if (stepper.activeStepIndex() === stepper.stepsCount() - 1) {
                <button (click)="stepper.finish()" color="warning" cButton>Finish</button>
              }
            }
            <hr>
            <p>
              @if (stepper.finishing()) {
                All steps have been completed.
              } @else {
                current step: {{ stepper.activeStepIndex() + 1 }} / {{ stepper.stepsCount() }}
              }
            </p>
          </div>
        </app-docs-example>
      </c-card-body>
    </c-card>
    <c-card class="mb-4">
      <c-card-header>
        <strong>Angular Stepper Component</strong> <small>Vertical indicator</small>
      </c-card-header>
      <c-card-body>
        <p class="text-body-secondary small">
          Display step indicators vertically above the labels using the <code>stepButtonLayout="vertical"</code> prop.
        </p>
        <app-docs-example href="forms/stepper/#vertical-indicator">
          <div class="bg-body border rounded p-3">
            <c-stepper stepButtonLayout="vertical">
              @for (label of labels; track $index) {
                <c-stepper-step [label]="label" />
              }
            </c-stepper>
          </div>
        </app-docs-example>
      </c-card-body>
    </c-card>
    <c-card class="mb-4">
      <c-card-header>
        <strong>Angular Stepper Component</strong> <small>Vertical indicator</small>
      </c-card-header>
      <c-card-body>
        <p class="text-body-secondary small">
          By using the <code>layout="vertical"</code> prop, both the step indicators and the step content are stacked vertically. This layout is ideal for mobile devices or designs where vertical flow is preferred in a top-to-bottom progression. </p>
        <app-docs-example href="forms/stepper/#vertical-layout">
          <div class="bg-body border rounded p-3">
            <c-stepper layout="vertical">
              @for (step of steps(); track $index) {
                <c-stepper-step [label]="step.label">
                  <ng-container *ngTemplateOutlet="step.template; context: { $implicit: 2 }" />
                </c-stepper-step>
              }
            </c-stepper>
          </div>
        </app-docs-example>
      </c-card-body>
    </c-card>
  </c-col>
</c-row>

<ng-template #step1 #stepTpl let-idNo>
  <form cForm>
    <c-row class="g-3 pb-5">
      <c-col [md]="4">
        <label cLabel [for]=`userFirstName-0${idNo}`>First name</label>
        <input cFormControl [id]=`userFirstName-0${idNo}`>
      </c-col>
      <c-col [md]="4">
        <label cLabel [for]=`userLastName-0${idNo}`>Last name</label>
        <input cFormControl [id]=`userLastName-0${idNo}`>
      </c-col>
      <c-col [md]="4">
        <label cLabel [for]=`userName-0${idNo}`>Username</label>
        <c-input-group>
          <span cInputGroupText [id]=`basic-addon-0${idNo}`>&#64;</span>
          <input [attr.aria-describedby]=`basic-addon-0${idNo}`
                 aria-label="Username"
                 autocomplete="off"
                 cFormControl
                 [id]=`userName-0${idNo}`
                 placeholder="Username"
          />
        </c-input-group>
      </c-col>
    </c-row>
  </form>
</ng-template>

<ng-template #step2 #stepTpl let-idNo>
  <form cForm>
    <c-row class="g-3 pb-5">
      <c-col [md]="6">
        <label cLabel [for]=`userCity-0${idNo}`>City</label>
        <input cFormControl [id]=`userCity-0${idNo}`>
      </c-col>
      <c-col [md]="3">
        <label cLabel [for]=`userState-0${idNo}`>State</label>
        <select aria-label="State select" cSelect [id]=`userState-0${idNo}`>
          <option>Choose...</option>
          <option value="1">...</option>
        </select>
      </c-col>
      <c-col [md]="3">
        <label cLabel [for]=`userZip-0${idNo}`>Zip</label>
        <input cFormControl [id]=`userZip-0${idNo}`>
      </c-col>
    </c-row>
  </form>
</ng-template>

<ng-template #step3 #stepTpl let-idNo>
  <form cForm>
    <c-row class="g-3 pb-1">
      <c-col [md]="6">
        <label cLabel [for]=`userEmail-0${idNo}`>Email</label>
        <input cFormControl [id]=`userEmail-0${idNo}` type="email" autocomplete="email">
      </c-col>
      <c-col [md]="6">
        <label cLabel [for]=`userPassword-0${idNo}`>Password</label>
        <input autocomplete="new-password" cFormPassword [id]=`userPassword-0${idNo}`>
      </c-col>
      <c-col>
        <c-form-check>
          <input
            cFormCheckInput
            [id]=`userAgree-0${idNo}`
            required
            type="checkbox"
          />
          <label cFormCheckLabel [for]=`userAgree-0${idNo}`>Agree to terms and conditions</label>
        </c-form-check>
      </c-col>
    </c-row>
  </form>
</ng-template>
