import{w as A}from"./chunk-KV5YFX3I.js";import{Ea as g,Ja as v,aa as p,da as D,e as u,fa as I,m as l,o as w}from"./chunk-7GBT3Z6V.js";var d;try{d=typeof Intl<"u"&&Intl.v8BreakIterator}catch{d=!1}var S=(()=>{class t{_platformId=I(v);isBrowser=this._platformId?A(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||d)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function F(t,e=0){return b(t)?Number(t):arguments.length===2?e:0}function b(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function P(t){return t instanceof g?t.nativeElement:t}var E=class{};function O(t){return t&&typeof t.connect=="function"&&!(t instanceof u)}var _=class extends E{_data;constructor(e){super(),this._data=e}connect(){return w(this._data)?this._data:l(this._data)}disconnect(){}},c=(function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t})(c||{}),j=new D("_ViewRepeater"),N=class{viewCacheSize=20;_viewCache=[];applyChanges(e,s,i,n,o){e.forEachOperation((r,m,a)=>{let h,f;if(r.previousIndex==null){let T=()=>i(r,m,a);h=this._insertView(T,a,s,n(r)),f=h?c.INSERTED:c.REPLACED}else a==null?(this._detachAndCacheView(m,s),f=c.REMOVED):(h=this._moveView(m,a,s,n(r)),f=c.MOVED);o&&o({context:h?.context,operation:f,record:r})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,s,i,n){let o=this._insertViewFromCache(s,i);if(o){o.context.$implicit=n;return}let r=e();return i.createEmbeddedView(r.templateRef,r.context,r.index)}_detachAndCacheView(e,s){let i=s.detach(e);this._maybeCacheView(i,s)}_moveView(e,s,i,n){let o=i.get(e);return i.move(o,s),o.context.$implicit=n,o}_maybeCacheView(e,s){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let i=s.indexOf(e);i===-1?e.destroy():s.remove(i)}}_insertViewFromCache(e,s){let i=this._viewCache.pop();return i&&s.insert(i,e),i||null}};export{S as a,F as b,P as c,O as d,_ as e,j as f,N as g};
